# defer

## defer란?
defer의 사전적 정의는 미루다,연기하다 이다.    
defer는 보통 함수 안에서 작성되는 클로저인데, 작성된 위치와 상관없이 함수 종료 직전에 실행되는 구문이다.   
즉, 자신의 실행을 함수 맨 마지막으로 미루는 것을 의미한다.

```Swift
func 점심식사일과() {
    print("밥먹기")

    defer {
        print("커피마시기")
    }

    print("양치하기")
}
//출력 결과 ->
//밥먹기
//양치하기
//커피마시기
```

## defer 특이사항

* defer를 읽기 전에 함수가 종료되면 defer는 실행되지 않는다.
```Swift
func 점심식사일과() {
    print("밥먹기")

    return 
    defer {
        print("커피마시기")
    }

    print("양치하기")
}
//출력 결과 ->
//밥먹기
```

* 하나의 함수에서 여러번 defer를 호출하면, 실행 순서는 가장 마지막에 실행된 defer부터 역순으로 실행된다.
```Swift
func 점심식사일과() {
    defer { print("밥먹기") }
    defer { print("커피마시기") }
    defer { print("양치하기") }
}
//출력 결과 ->
//양치하기
//커피마시기
//밥먹기
```

* defer는 중첩해서 사용이 가능하며, 실행 순서는 가장 바깥쪽 defer부터 실행된다.
```Swift
func 점심식사일과() {
    defer { 
        print("밥먹기") 
        defer { 
            print("커피마시기") 
            defer { 
                print("양치하기") 
            }
        }
    }
}
//출력 결과 ->
//밥먹기
//커피마시기
//양치하기
```
흠 .... defer를 언제사용해야 할까